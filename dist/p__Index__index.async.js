"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[500],{94773:function(au,A,e){e.r(A),e.d(A,{default:function(){return K}});var y=e(60183),E=e.n(y),T=e(43953),o=e.n(T),M=e(42525),G=e.n(M),$=e(91184),v=e.n($),z=e(9083),F=e.n(z),m=e(38497),a=e(67906),f=e(37412),n=e(29356),B=e(47356),H=e(35194),O=e(10780),W=e(30115),L=e(26869),U=e.n(L),V="https://api-inference.modelscope.cn/v1",X="/images/generations",l={cont:"cont___W0utD",formItem:"formItem___tz_DB",resultPreview:"resultPreview___Rg6Hl",noResult:"noResult___q714R",resultImage:"resultImage___So77B"},u=e(96469),J=["token"];function K(){var Q=a.Z.useForm(),Y=F()(Q,1),D=Y[0],w=(0,m.useState)(!1),p=F()(w,2),k=p[0],g=p[1],q=(0,m.useState)(!1),x=F()(q,2),_=x[0],d=x[1],uu=(0,m.useState)(""),I=F()(uu,2),j=I[0],Z=I[1],t=(0,m.useMemo)(function(){return{span:4}},[]),eu=function(){var N=v()(o()().mark(function P(c){return o()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:D.validateFields().then(v()(o()().mark(function lu(){var s,S,b,h,R,i;return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return S=c.token,b=G()(c,J),g(!0),d(!0),r.next=5,(0,W.Z)({method:"post",url:"".concat(V).concat(X),headers:{Authorization:"Bearer ".concat(S),"Content-Type":"application/json"},data:b});case 5:if(h=r.sent,g(!1),R=h.status,i=h.data,R===200){r.next=13;break}return f.ZP.error("\u56FE\u7247\u751F\u6210\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u4EE4\u724C\u548C\u6A21\u578BID\u662F\u5426\u6B63\u786E"),d(!1),Z(""),r.abrupt("return");case 13:Z(i==null||(s=i.images)===null||s===void 0||(s=s[0])===null||s===void 0?void 0:s.url);case 14:case"end":return r.stop()}},lu)}))).catch(function(){f.ZP.error("\u8BF7\u68C0\u67E5\u8868\u5355\u586B\u5199\u662F\u5426\u6B63\u786E")});case 1:case"end":return C.stop()}},P)}));return function(c){return N.apply(this,arguments)}}();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(a.Z,{form:D,className:l.cont,initialValues:{model:"ONETranquil/F.1-dev-fp8",prompt:"A beautiful landscape with mountains and a river"},onFinish:eu,children:[(0,u.jsx)(a.Z.Item,{className:l.formItem,name:"token",label:"\u4EE4\u724C",help:"\u8BF7\u5728 https://modelscope.cn/ \u4E0A\u6CE8\u518C\u8D26\u53F7\u83B7\u53D6\u4EE4\u724C",labelAlign:"right",labelCol:t,required:!0,rules:[{required:!0,message:"ModelScope \u4EE4\u724C\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,u.jsx)(n.Z.Password,{placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684 ModelScope \u4EE4\u724C",allowClear:!0})}),(0,u.jsx)(a.Z.Item,{className:l.formItem,name:"model",label:"\u6A21\u578BID",help:"ModelScope\u4E0A\u7684 AIGC \u6A21\u578BID",labelAlign:"right",labelCol:t,required:!0,rules:[{required:!0,message:"\u6A21\u578BID\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,u.jsx)(n.Z,{placeholder:"ModelScope \u4E0A\u7684 AIGC \u6A21\u578BID",allowClear:!0})}),(0,u.jsx)(a.Z.Item,{className:l.formItem,name:"prompt",label:"\u6B63\u5411\u63D0\u793A\u8BCD",help:"\u63A7\u5236\u56FE\u7247\u751F\u6210\u7684\u63D0\u793A\u8BCD\uFF0C\u5EFA\u8BAE\u4F7F\u7528\u82F1\u6587\uFF0C\u957F\u5EA6\u5C0F\u4E8E2000",labelAlign:"right",labelCol:t,required:!0,rules:[{required:!0,message:"\u6B63\u5411\u63D0\u793A\u8BCD\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,u.jsx)(n.Z.TextArea,{placeholder:"\u8BF7\u586B\u5199\u63D0\u793A\u8BCD",allowClear:!0,rows:4})}),(0,u.jsx)(a.Z.Item,{className:l.formItem,name:"negative_prompt",label:"\u8D1F\u5411\u63D0\u793A\u8BCD",help:"\u63A7\u5236\u56FE\u7247\u751F\u6210\u7684\u63D0\u793A\u8BCD\uFF0C\u5EFA\u8BAE\u4F7F\u7528\u82F1\u6587\uFF0C\u957F\u5EA6\u5C0F\u4E8E2000",labelAlign:"right",labelCol:t,children:(0,u.jsx)(n.Z.TextArea,{placeholder:"\u8BF7\u586B\u5199\u63D0\u793A\u8BCD",allowClear:!0})}),(0,u.jsx)(a.Z.Item,{className:l.formItem,name:"size",label:"\u5206\u8FA8\u7387",help:"SD\u7CFB\u5217\uFF1A[64x64,2048x2048]\uFF0CFLUX\uFF1A[64x64,1024x1024]\uFF0C\u9ED8\u8BA4760x1280",labelAlign:"right",labelCol:t,children:(0,u.jsx)(n.Z,{placeholder:"\u8BF7\u8F93\u5165\u751F\u6210\u56FE\u50CF\u7684\u5206\u8FA8\u7387\uFF0C\u5982\uFF1A1024x768",allowClear:!0})}),(0,u.jsx)(a.Z.Item,{className:l.formItem,name:"steps",label:"\u91C7\u6837\u6B65\u6570",help:"[1, 100]\uFF0C\u9ED8\u8BA430\uFF0C\u5EFA\u8BAE\u4E0D\u5C11\u4E8E20",labelAlign:"right",labelCol:t,children:(0,u.jsx)(B.Z,{placeholder:"\u8BF7\u8F93\u5165\u91C7\u6837\u6B65\u6570",min:1,max:100})}),(0,u.jsx)(a.Z.Item,{className:l.formItem,name:"guidance",label:"\u5F15\u5BFC\u7CFB\u6570",help:"[1.5, 20]\uFF0C\u9ED8\u8BA43.5",labelAlign:"right",labelCol:t,children:(0,u.jsx)(B.Z,{placeholder:"\u8BF7\u8F93\u5165\u5F15\u5BFC\u7CFB\u6570",min:1.5,max:20,step:.1})}),(0,u.jsx)(a.Z.Item,{className:l.formItem,name:"",label:" ",labelCol:t,colon:!1,children:(0,u.jsx)(H.ZP,{type:"primary",htmlType:"submit",className:l.submitBtn,loading:k,children:"\u751F\u6210\u56FE\u7247"})})]}),(0,u.jsx)(O.Z,{title:"\u751F\u6210\u7ED3\u679C",open:_,onCancel:function(){return d(!1)},footer:null,width:"70%",children:j?(0,u.jsxs)("div",{className:l.resultPreview,children:[(0,u.jsx)("img",{src:j,alt:"Result image",className:l.resultImage}),(0,u.jsx)("div",{className:l.attention,children:"\u672C\u5DE5\u5177\u4E0D\u4F1A\u81EA\u52A8\u4FDD\u5B58\u4EFB\u4F55\u6570\u636E\uFF0C\u5982\u751F\u6210\u7ED3\u679C\u6EE1\u610F\uFF0C\u8BF7\u81EA\u884C\u4FDD\u5B58\u201C\u56FE\u7247\u4E0A\u53F3\u952E-\u56FE\u7247\u53E6\u5B58\u4E3A\u201D"})]}):(0,u.jsx)("div",{className:U()(E()(E()({},l.resultPreview,!0),l.noResult,!0)),children:"\u56FE\u7247\u751F\u6210\u4E2D\uFF0C\u8BF7\u8010\u5FC3\u7B49\u5F85\uFF0C\u8BF7\u52FF\u5173\u95ED\u9875\u9762"})})]})}}}]);
